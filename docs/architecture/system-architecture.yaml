# Business Platform System Architecture Definition
# YAML DSL for Modular Monolith Enterprise Platform
# Version: 1.0
# Last Updated: 2025-09-25

metadata:
  name: "Business Management Platform"
  version: "4.0.0"
  description: "Enterprise-grade modular monolith business platform with AI-powered analytics, mobile-first design, and comprehensive third-party integrations"
  architecture_pattern: "modular_monolith"
  deployment_model: "single_instance"
  status: "production_ready"
  phases_completed: 4
  team_size: "1-50 users"

system_overview:
  type: "modular_monolith"
  runtime: "node_js"
  language: "typescript"
  deployment_target: "replit_cloud"

  key_features:
    - "Multi-method Authentication (Local + OAuth)"
    - "Real-time WebSocket Notifications"
    - "AI-Powered Business Analytics"
    - "Mobile-First Responsive Design"
    - "Third-Party Integrations (Slack, Teams, GitHub)"
    - "Advanced Project Management with Gantt Charts"
    - "Comprehensive CRM and Sales Pipeline"
    - "Financial Management with Budget Tracking"
    - "Team Resource Management and Capacity Planning"
    - "Knowledge Management System"
    - "Support Ticket Management"
    - "Marketing Campaign Management"

technology_stack:
  runtime:
    name: "Node.js"
    version: ">=18.0.0"
    package_manager: "npm"

  backend:
    framework: "Express.js"
    version: "4.21.2"
    language: "TypeScript"
    version_ts: "5.6.3"

  database:
    primary:
      type: "PostgreSQL"
      provider: "@neondatabase/serverless"
      version: "0.10.4"
      orm: "Drizzle ORM"
      orm_version: "0.39.1"

  frontend:
    framework: "React"
    version: "18.3.1"
    router: "Wouter"
    version_router: "3.3.5"
    state_management: "@tanstack/react-query"
    version_state: "5.60.5"

  ui_framework:
    primary: "Radix UI"
    styling: "Tailwind CSS"
    version_tailwind: "3.4.17"
    animations: "Framer Motion"
    version_animations: "11.13.1"

  build_tools:
    bundler: "Vite"
    version: "5.4.19"
    transpiler: "esbuild"
    version_esbuild: "0.25.0"
    dev_server: "tsx"
    version_tsx: "4.19.1"

authentication:
  strategies:
    local:
      enabled: true
      provider: "passport-local"
      password_hashing: "bcryptjs"
      session_management: "express-session"

    oauth:
      enabled: true
      provider: "replit_oauth"
      openid_client: "6.8.0"

  security:
    password_requirements:
      min_length: 8
      require_uppercase: true
      require_lowercase: true
      require_numbers: true

    session_management:
      store: "connect-pg-simple"
      storage: "postgresql"
      cookie_secure: true
      session_timeout: "24h"

    rate_limiting:
      enabled: true
      login_attempts: 5
      lockout_duration: "15m"

real_time_features:
  websocket:
    enabled: true
    library: "ws"
    version: "8.18.0"

  notifications:
    channels:
      - "project_updates"
      - "task_assignments"
      - "comment_mentions"
      - "system_alerts"

  features:
    live_updates: true
    typing_indicators: false
    presence_detection: false

integrations:
  slack:
    enabled: true
    api: "@slack/web-api"
    version: "7.10.0"
    features:
      - "project_notifications"
      - "task_updates"
      - "daily_digests"
      - "alert_messages"

  microsoft_teams:
    enabled: true
    features:
      - "adaptive_cards"
      - "webhook_notifications"
      - "cross_platform_messaging"

  github:
    enabled: true
    api: "@octokit/rest"
    version: "20.1.2"
    features:
      - "issue_creation_from_tasks"
      - "repository_sync"
      - "commit_activity_tracking"
      - "webhook_handling"

  email:
    provider: "nodemailer"
    version: "7.0.6"
    features:
      - "user_registration_verification"
      - "password_reset_tokens"
      - "notification_emails"
      - "html_templates"

mobile_optimization:
  responsive_design: true
  touch_interfaces: true
  mobile_gantt_charts: true
  adaptive_navigation: true
  gesture_recognition: true

  components:
    - "MobileGantt.tsx"
    - "Responsive Sidebar"
    - "Mobile Header"
    - "Touch Interface Utilities"

ai_analytics:
  business_intelligence:
    enabled: true
    modules:
      - "Performance Analytics"
      - "Project Analytics"
      - "Financial Analytics"
      - "Team Performance"
      - "Predictive Analytics"

  machine_learning:
    revenue_forecasting: true
    risk_assessment: true
    opportunity_detection: true
    team_burnout_prediction: true

  kpi_tracking:
    executive_dashboard: true
    metrics_count: 6
    real_time_updates: true
    drill_down_capabilities: true

deployment:
  environment: "replit_cloud"
  port_strategy: "unified"
  default_ports:
    development: 3001
    production: 5000
    replit: 5000

  process_management:
    single_instance_enforcement: true
    lock_file_system: true
    automatic_cleanup: true

  startup_sequence:
    - "Database seeding"
    - "Authentication setup"
    - "WebSocket server initialization"
    - "Integration manager initialization"
    - "Route registration"
    - "Static file serving"

file_structure:
  root_directories:
    - "client/"      # Frontend React application
    - "server/"      # Backend Express.js application
    - "shared/"      # Shared TypeScript types and schemas
    - "docs/"        # System documentation
    - "scripts/"     # Utility and deployment scripts

  key_files:
    configuration:
      - "package.json"
      - "tsconfig.json"
      - "tailwind.config.ts"
      - "vite.config.ts"
      - "drizzle.config.ts"
      - ".replit"

    documentation:
      - "CLAUDE.md"     # Implementation history and notes
      - "README.md"     # Project overview
      - "docs/"         # Architecture documentation

performance_optimizations:
  database:
    connection_pooling: true
    query_optimization: true
    indexing_strategy: "comprehensive"

  frontend:
    code_splitting: true
    lazy_loading: true
    image_optimization: true
    bundle_optimization: true

  caching:
    application_level: true
    database_query_caching: true
    static_asset_caching: true

monitoring_observability:
  logging:
    request_logging: true
    error_tracking: true
    performance_monitoring: true

  health_checks:
    database_connectivity: true
    integration_status: true
    websocket_health: true

  metrics:
    business_kpis: true
    technical_metrics: true
    user_analytics: true

scalability_considerations:
  current_capacity: "50_concurrent_users"
  database_scaling: "vertical_scaling"
  application_scaling: "single_instance"

  future_scaling_options:
    - "Horizontal database scaling"
    - "Microservices extraction"
    - "Container orchestration"
    - "Load balancing implementation"

data_management:
  backup_strategy: "automated_database_backups"
  data_retention_policies: "configured"
  data_migration_tools: "drizzle_kit"

  compliance:
    gdpr_ready: true
    data_encryption: true
    audit_logging: true

development_workflow:
  version_control: "git"
  testing_strategy:
    unit_tests: "vitest"
    integration_tests: "vitest"
    e2e_tests: "playwright"

  development_commands:
    start_dev: "npm run dev:safe"
    run_tests: "npm test"
    build: "npm run build"
    database_push: "npm run db:push"

quality_assurance:
  code_quality:
    typescript_strict: true
    linting: "eslint"
    code_formatting: "prettier"

  testing_coverage:
    target_percentage: "80%"
    test_types:
      - "unit"
      - "integration"
      - "e2e"

  security_measures:
    dependency_scanning: true
    vulnerability_assessment: true
    secure_coding_practices: true

business_domains:
  project_management:
    features:
      - "Gantt chart visualization"
      - "Task dependency tracking"
      - "Critical path analysis"
      - "Resource allocation"
      - "Project templates"

  customer_relationship_management:
    features:
      - "Contact management"
      - "Sales pipeline"
      - "Opportunity tracking"
      - "Communication logging"
      - "Activity history"

  financial_management:
    features:
      - "Budget tracking"
      - "Expense management"
      - "Invoice generation"
      - "Time tracking"
      - "Profitability analysis"

  team_resource_management:
    features:
      - "Capacity planning"
      - "Skill management"
      - "Workload balancing"
      - "Availability tracking"
      - "Performance monitoring"

  analytics_business_intelligence:
    features:
      - "Executive KPIs"
      - "Predictive analytics"
      - "Financial forecasting"
      - "Team performance insights"
      - "Custom reporting"

future_roadmap:
  planned_enhancements:
    - "Native mobile applications"
    - "Advanced AI automation"
    - "Enterprise SSO integrations"
    - "Advanced machine learning models"
    - "Multi-tenant architecture"

  potential_scaling_paths:
    - "Microservices architecture"
    - "Container orchestration"
    - "Multi-region deployment"
    - "Advanced analytics platform"

system_boundaries:
  internal_modules:
    - "Authentication & Authorization"
    - "Project Management"
    - "Customer Relationship Management"
    - "Financial Management"
    - "Team & Resource Management"
    - "Analytics & Business Intelligence"
    - "Knowledge Management"
    - "Support & Communication"

  external_integrations:
    - "Slack API"
    - "Microsoft Teams API"
    - "GitHub API"
    - "Email Services"
    - "OAuth Providers"

success_metrics:
  implementation_completeness: "100%"
  feature_phases_completed: 4
  total_database_tables: 25
  total_api_endpoints: "35+"
  ui_components: "50+"
  integration_services: 3

  performance_targets:
    page_load_time: "<2s"
    api_response_time: "<500ms"
    websocket_latency: "<100ms"
    database_query_time: "<200ms"